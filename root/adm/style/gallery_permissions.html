<!-- INCLUDE overall_header.html -->
<script type="text/javascript">
function getElement(iElementId)
{
	if (document.all) 
	{
		return document.all[iElementId];
	}
	if (document.getElementById)
	{
		return document.getElementById(iElementId);
	}
}

function toggle_permissions_panel(c_mask, v_mask, cat)
{
	<!-- BEGIN c_rows -->
		var oElement = document.getElementById('options' + c_mask + v_mask + {c_rows.S_ROW_COUNT});
		oElement.style.display = "none";
		var old_tab = document.getElementById('tab' + c_mask + v_mask + {c_rows.S_ROW_COUNT});
		old_tab.className = old_tab.className.replace(/\ activetab/g, '');
	<!-- END c_rows -->

	var oElement = document.getElementById('options' + c_mask + v_mask + cat);
	oElement.style.display = "";
	var new_tab = document.getElementById('tab' + c_mask + v_mask + cat);
	new_tab.className = new_tab.className + ' activetab';
}
</script>
<script type="text/javascript" src="style/permissions.js"></script>
<a name="maincontent"></a>

<h1>{ACP_GALLERY_TITLE}</h1>
<p>{ACP_GALLERY_TITLE_EXPLAIN}</p>

<form action="{S_ALBUM_ACTION}" method="post" id="gallery_acp">
<!-- IF STEP == 1 -->
	<fieldset>
		<legend>{L_SELECT_PERM_SYS}</legend>
			<dl><dt><input id="perm_system_0" name="perm_system" class="radio" type="radio" checked="checked" value="0" /><label for="perm_system_0">&nbsp;{L_SELECTED_ALBUMS}</label></dt>
				<dd><select id="target" name="album_ids[]" multiple="multiple">
				{ALBUM_LIST}
				</select></dd>
			</dl>
			<dl><dt><input id="perm_system_2" name="perm_system" class="radio" type="radio" value="{C_OWN_PERSONAL_ALBUMS}" /><label for="perm_system_2">&nbsp;{L_OWN_PERSONAL_ALBUMS}</label></dt></dl>
			<dl><dt><input id="perm_system_3" name="perm_system" class="radio" type="radio" value="{C_PERSONAL_ALBUMS}" /><label for="perm_system_3">&nbsp;{L_PERSONAL_ALBUMS}</label></dt></dl>
	</fieldset>
<!-- ELSEIF STEP == 2 -->
	<fieldset>
		<legend><!-- IF .albumrow -->{L_SELECTED_ALBUMS}<!-- ELSE -->{L_SELECTED_PERM_SYS}<!-- ENDIF --></legend>
			<dl>
				<!-- IF PERM_SYSTEM == C_OWN_PERSONAL_ALBUMS --><dd style="font-weight: bold;">{L_OWN_PERSONAL_ALBUMS}</dd><!-- ENDIF -->
				<!-- IF PERM_SYSTEM == C_PERSONAL_ALBUMS --><dd style="font-weight: bold;">{L_PERSONAL_ALBUMS}</dd><!-- ENDIF -->
				<!-- BEGIN albumrow --><dd style="font-weight: bold;">{albumrow.ALBUM_NAME}</dd><!-- END albumrow -->
			</dl>
	</fieldset>
	<fieldset>
		<legend>{L_DELETE_PERMISSIONS}</legend>
			<dl><dt>{L_DELETE_PERMISSIONS}</dt>
			<dd><!-- BEGIN perm_grouprow --><input id="drop_perm" name="drop_perm[]" class="radio" type="checkbox" value="{perm_grouprow.GROUP_ID}" /><!-- IF perm_grouprow.GROUP_COLOUR --><span style="color: #{perm_grouprow.GROUP_COLOUR};">{perm_grouprow.GROUP_NAME}</span><!-- ELSE -->{perm_grouprow.GROUP_NAME}<!-- ENDIF --><br /><!-- END perm_grouprow --><!-- IF .perm_grouprow --><br />
			<a href="#" onclick="marklist('gallery_acp', 'drop_perm', true); return false;">{L_MARK_ALL}</a> :: <a href="#" onclick="marklist('gallery_acp', 'drop_perm', false); return false;">{L_UNMARK_ALL}</a><!-- ELSE -->{L_PERM_HIDDEN_GROUPS_EXP}<!-- ENDIF --></dd></dl>
	</fieldset>
	<fieldset class="submit-buttons">
		<legend>{L_SUBMIT}</legend>
		{S_FORM_TOKEN}{S_HIDDEN_FIELDS}
		<input class="button1" type="submit" id="delete" name="delete" value="{L_DELETE_PERMISSIONS}" />
	</fieldset>
	<fieldset>
		<legend>{L_ADD_PERMISSIONS}</legend>
			<dl><dt>{L_ADD_PERMISSIONS}</dt>
			<dd><select id="target" name="group_ids[]" multiple="multiple">
				<!-- BEGIN grouprow --><option value="{grouprow.GROUP_ID}">{grouprow.GROUP_NAME}</option><!-- END grouprow -->
			</select></dd></dl>
	</fieldset>
<!-- ELSEIF STEP == 3 -->
	<fieldset>
		<legend><!-- IF .albumrow -->{L_SELECTED_ALBUMS}<!-- ELSE -->{L_SELECTED_PERM_SYS}<!-- ENDIF --></legend>
			<dl>
				<!-- IF PERM_SYSTEM == C_OWN_PERSONAL_ALBUMS --><dd style="font-weight: bold;">{L_OWN_PERSONAL_ALBUMS}</dd><!-- ENDIF -->
				<!-- IF PERM_SYSTEM == C_PERSONAL_ALBUMS --><dd style="font-weight: bold;">{L_PERSONAL_ALBUMS}</dd><!-- ENDIF -->
				<!-- BEGIN albumrow --><dd style="font-weight: bold;">{albumrow.ALBUM_NAME}</dd><!-- END albumrow -->
			</dl>
	</fieldset>
	<fieldset>
		<legend>{L_SELECTED_GROUPS}</legend>
			<dl>
				<!-- BEGIN grouprow --><dd style="font-weight: bold;"><!-- IF grouprow.GROUP_COLOUR --><span style="color: #{grouprow.GROUP_COLOUR};">{grouprow.GROUP_NAME}</span><!-- ELSE -->{grouprow.GROUP_NAME}<!-- ENDIF --></dd><!-- END grouprow -->
			</dl>
	</fieldset>





<!-- BEGIN c_mask -->
<h3>{c_mask.ALBUM_NAME}</h3>
	<!-- BEGIN v_mask -->
	<fieldset>
		<legend>{c_mask.v_mask.VICTIM_NAME}</legend>
			<!-- IF not c_mask.S_VIEW and c_mask.S_VIEW -->
				<div class="permissions-advanced" id="advanced{c_mask.S_ROW_COUNT}{c_mask.v_mask.S_ROW_COUNT}" style="display: none;">
			<!-- ELSE -->
				<div class="permissions-advanced" id="advanced{c_mask.S_ROW_COUNT}{c_mask.v_mask.S_ROW_COUNT}">
			<!-- ENDIF -->
		<div class="permissions-category">
			<ul>
			<!-- BEGIN category -->
				<li class="permissions-preset-custom<!-- IF c_mask.v_mask.category.S_FIRST_ROW --> activetab<!-- ENDIF -->" id="tab{c_mask.S_ROW_COUNT}{c_mask.v_mask.S_ROW_COUNT}{c_mask.v_mask.category.S_ROW_COUNT}">
				<a href="#" onclick="javascript: toggle_permissions_panel({c_mask.S_ROW_COUNT}, {c_mask.v_mask.S_ROW_COUNT}, {c_mask.v_mask.category.S_ROW_COUNT}); return false;"><span class="tabbg"><span class="colour"></span>{c_mask.v_mask.category.CAT_NAME}</span></a></li>
			<!-- END category -->
			</ul>
		</div>

	<!-- BEGIN category -->
		<div class="permissions-panel" id="options{c_mask.S_ROW_COUNT}{c_mask.v_mask.S_ROW_COUNT}{c_mask.v_mask.category.S_ROW_COUNT}" <!-- IF c_mask.v_mask.category.S_FIRST_ROW --><!-- ELSE --> style="display: none;"<!-- ENDIF -->>
			<span class="corners-top"><span></span></span>
			<div class="tablewrap">
				<table id="table{c_mask.S_ROW_COUNT}{c_mask.v_mask.S_ROW_COUNT}{c_mask.v_mask.category.S_ROW_COUNT}" cellspacing="1">
				<colgroup>
					<col class="permissions-name" />
					<col class="permissions-yes" />
					<col class="permissions-no" />
					<col class="permissions-never" />
				</colgroup>
				<thead>
				<tr>
					<th class="name" scope="col"><strong>{L_PERMISSION_SETTING}</strong></th>
					<th class="value permissions-yes" scope="col" style="width: 10%;" ><a href="#" onclick="mark_options('options{c_mask.S_ROW_COUNT}{c_mask.v_mask.S_ROW_COUNT}{c_mask.v_mask.category.S_ROW_COUNT}', 'y'); return false;">{L_PERMISSION_YES}</a></th>
					<th class="value permissions-no" scope="col" style="width: 10%;"><a href="#" onclick="mark_options('options{c_mask.S_ROW_COUNT}{c_mask.v_mask.S_ROW_COUNT}{c_mask.v_mask.category.S_ROW_COUNT}', 'u'); return false;">{L_PERMISSION_NO}</a></th>
					<th class="value permissions-never" scope="col" style="width: 10%;"><a href="#" onclick="mark_options('options{c_mask.S_ROW_COUNT}{c_mask.v_mask.S_ROW_COUNT}{c_mask.v_mask.category.S_ROW_COUNT}', 'n'); return false;">{L_PERMISSION_NEVER}</a></th>
				</tr>
				</thead>
				<tbody>
				<!-- BEGIN mask -->
					<!-- IF c_mask.v_mask.category.mask.S_ROW_COUNT is even --><tr class="row4"><!-- ELSE --><tr class="row3"><!-- ENDIF -->
					<th class="permissions-name<!-- IF c_mask.v_mask.category.mask.S_ROW_COUNT is even --> row4<!-- ELSE --> row3<!-- ENDIF -->">{c_mask.v_mask.category.mask.PERMISSION}</th>
						<!-- IF not c_mask.v_mask.category.mask.S_COUNT_FIELD -->
							<td class="value permissions-yes"><label for="{c_mask.v_mask.category.mask.S_FIELD_NAME}_y"><input id="{c_mask.v_mask.category.mask.S_FIELD_NAME}_y" name="{c_mask.v_mask.category.mask.S_FIELD_NAME}" class="radio" type="radio"<!-- IF c_mask.v_mask.category.mask.S_YES --> checked="checked"<!-- ENDIF --> value="1" /></label></td>
							<td class="value permissions-no"><label for="{c_mask.v_mask.category.mask.S_FIELD_NAME}_u"><input id="{c_mask.v_mask.category.mask.S_FIELD_NAME}_u" name="{c_mask.v_mask.category.mask.S_FIELD_NAME}" class="radio" type="radio"<!-- IF c_mask.v_mask.category.mask.S_NO --> checked="checked"<!-- ENDIF --> value="-1" /></label></td>
							<td class="value permissions-never"><label for="{c_mask.v_mask.category.mask.S_FIELD_NAME}_n"><input id="{c_mask.v_mask.category.mask.S_FIELD_NAME}_n" name="{c_mask.v_mask.category.mask.S_FIELD_NAME}" class="radio" type="radio"<!-- IF c_mask.v_mask.category.mask.S_NEVER --> checked="checked"<!-- ENDIF --> value="0" /></label></td>
						<!-- ELSE -->
							<td class="permissions" colspan="3"><input class="text medium" type="text" id="{c_mask.v_mask.category.mask.S_FIELD_NAME}" name="{perm_group.permission.S_FIELD_NAME}" value="{c_mask.v_mask.category.mask.S_VALUE}" maxlength="7" /></td>
						<!-- ENDIF -->
				</tr>
				<!-- END mask -->
				</tbody>
				</table>
			</div>

			<span class="corners-bottom"><span></span></span>
		</div>
				<!-- END category -->
	</div>
			<div class="clearfix"></div>
	</fieldset>
	<!-- END v_mask -->
<!-- END c_mask -->













	<fieldset>
		<legend>{L_SELECT_PERMISSIONS}</legend>
		<!-- IF S_ALBUMS or S_GROUPS --><span>{L_PERM_HIDDEN_PERMISSIONS_EXP}</span><!-- ENDIF -->
		<div class="permissions-panel" id="options{grouprow.S_ROW_COUNT}{p_mask.f_mask.S_ROW_COUNT}{p_mask.f_mask.category.S_ROW_COUNT}">
			<span class="corners-top"><span></span></span>
				<!-- BEGIN perm_group -->
			<div class="tablewrap">
				<table id="table{p_mask.S_ROW_COUNT}{p_mask.f_mask.S_ROW_COUNT}{p_mask.f_mask.category.S_ROW_COUNT}" cellspacing="1">
				<colgroup>
					<col class="permissions-name" />
					<col class="permissions-yes" />
					<col class="permissions-no" />
					<col class="permissions-never" />
				</colgroup>
				<thead>
				<tr>
					<th class="name" scope="col"><strong>{perm_group.PERMISSION_GROUP}</strong></th>
					<th class="value permissions-yes" scope="col" style="width: 10%;">{L_PERMISSION_YES}</th>
					<th class="value permissions-no" scope="col" style="width: 10%;">{L_PERMISSION_NO}</th>
					<th class="value permissions-never" scope="col" style="width: 10%;">{L_PERMISSION_NEVER}</th>
				</tr>
				</thead>
				<tbody>
				<!-- BEGIN permission -->
					<!-- IF perm_group.permission.S_ROW_COUNT is even --><tr class="row4"><!-- ELSE --><tr class="row3"><!-- ENDIF -->
					<th class="permissions-name<!-- IF perm_group.permission.S_ROW_COUNT is even --> row4<!-- ELSE --> row3<!-- ENDIF -->">{perm_group.permission.PERMISSION}</th>
						<!-- IF not perm_group.permission.S_COUNT_FIELD -->
							<td class="permissions-yes"><label for="{perm_group.permission.S_FIELD_NAME}_y"><input id="{perm_group.permission.S_FIELD_NAME}_y" name="{perm_group.permission.S_FIELD_NAME}" class="radio" type="radio"<!-- IF perm_group.permission.S_YES --> checked="checked"<!-- ENDIF --> value="2" /></label></td>
							<td class="permissions-no"><label for="{perm_group.permission.S_FIELD_NAME}_u"><input id="{perm_group.permission.S_FIELD_NAME}_u" name="{perm_group.permission.S_FIELD_NAME}" class="radio" type="radio"<!-- IF perm_group.permission.S_NO --> checked="checked"<!-- ENDIF --> value="1" /></label></td>
							<td class="permissions-never"><label for="{perm_group.permission.S_FIELD_NAME}_n"><input id="{perm_group.permission.S_FIELD_NAME}_n" name="{perm_group.permission.S_FIELD_NAME}" class="radio" type="radio"<!-- IF perm_group.permission.S_NEVER --> checked="checked"<!-- ENDIF --> value="3" /></label></td>
						<!-- ELSE -->
							<td class="permissions" colspan="3"><input class="text medium" type="text" id="{perm_group.permission.S_FIELD_NAME}" name="{perm_group.permission.S_FIELD_NAME}" value="{perm_group.permission.S_VALUE}" maxlength="7" /></td>
						<!-- ENDIF -->
				</tr>
				<!-- END permission -->
				</tbody>
				</table>
			</div><br />

				<!-- END perm_group -->
			<span class="corners-bottom"><span></span></span>
		</div>
			<div class="clearfix"></div>
	</fieldset>
<!-- ENDIF -->
	<fieldset class="submit-buttons">
		<legend>{L_SUBMIT}</legend>
		{S_FORM_TOKEN}{S_HIDDEN_FIELDS}
		<input class="button1" type="submit" id="submit" name="submit" value="{L_SUBMIT}" />&nbsp;
		<input class="button2" type="reset" id="reset" name="reset" value="{L_RESET}" />
	</fieldset>
</form>

<!--
	I request you retain the full copyright notice below including the link to www.flying-bits.org.
	This not only gives respect to the large amount of time given freely by the developer
	but also helps build interest, traffic and use of phpBB Gallery. If you (honestly) cannot retain
	the full copyright we ask you at least leave in place the "Powered by phpBB Gallery" line, with
	"phpBB Gallery" linked to www.flying-bits.org. If you refuse to include even this then support on my
	forums may be affected.

	phpBB Gallery, nickvergessen : 2009
	Powered by phpBB Gallery (http://www.flying-bits.org/) &copy; 2007, 2009 nickvergessen (http://www.flying-bits.org/)
//-->
<!-- INCLUDE overall_footer.html -->